{"ast":null,"code":"import axios from \"axios\";\nimport { ADMIN_CINEMA_FAIL, ADMIN_CINEMA_REQUEST, ADMIN_CINEMA_SUCCESS, ALL_CINEMA_FAIL, ALL_CINEMA_REQUEST, ALL_CINEMA_SUCCESS, CLEAR_ERRORS, DELETE_CINEMA_FAIL, DELETE_CINEMA_REQUEST, DELETE_CINEMA_SUCCESS, CINEMA_DETAILS_FAIL, CINEMA_DETAILS_REQUEST, CINEMA_DETAILS_SUCCESS, NEW_CINEMA_FAIL, NEW_CINEMA_REQUEST, NEW_CINEMA_SUCCESS, UPDATE_CINEMA_FAIL, UPDATE_CINEMA_REQUEST, UPDATE_CINEMA_SUCCESS } from \"../constants/cinemaConstants\";\n// Get All Cinemas\nexport const getCinema = function () {\n  let keyword = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  let currentPage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  let category = arguments.length > 2 ? arguments[2] : undefined;\n  let tag = arguments.length > 3 ? arguments[3] : undefined;\n  return async dispatch => {\n    try {\n      dispatch({\n        type: ALL_CINEMA_REQUEST\n      });\n      let link = `/api/v1/cinemas?keyword=${keyword}&page=${currentPage}`;\n      if (category) {\n        link = `/api/v1/cinemas?keyword=${keyword}&page=${currentPage}&category=${category}&tag=${tag}`;\n      }\n      if (tag) {\n        link = `/api/v1/cinemas?keyword=${keyword}&page=${currentPage}&category=${category}&tag=${tag}`;\n      }\n      const {\n        data\n      } = await axios.get(link);\n      dispatch({\n        type: ALL_CINEMA_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      dispatch({\n        type: ALL_CINEMA_FAIL,\n        payload: error.response.data.message\n      });\n    }\n  };\n};\n\n// Get All Cinemas For Admin\nexport const getAdminCinema = () => async dispatch => {\n  try {\n    dispatch({\n      type: ADMIN_CINEMA_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(\"/api/v1/admin/cinemas\");\n    console.log(data);\n    dispatch({\n      type: ADMIN_CINEMA_SUCCESS,\n      payload: data.cinemas\n    });\n  } catch (error) {\n    dispatch({\n      type: ADMIN_CINEMA_FAIL,\n      payload: error.response.data.message\n    });\n  }\n};\n\n// Create Cinema\nexport const createCinema = cinemaData => async dispatch => {\n  try {\n    dispatch({\n      type: NEW_CINEMA_REQUEST\n    });\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const {\n      data\n    } = await axios.post(`/api/v1/admin/cinema/new`, cinemaData, config);\n    dispatch({\n      type: NEW_CINEMA_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: NEW_CINEMA_FAIL,\n      payload: error.response.data.message\n    });\n  }\n};\n\n// Update Cinema\nexport const updateCinema = (id, cinemaData) => async dispatch => {\n  try {\n    dispatch({\n      type: UPDATE_CINEMA_REQUEST\n    });\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const {\n      data\n    } = await axios.put(`/api/v1/admin/cinema/${id}`, cinemaData, config);\n    dispatch({\n      type: UPDATE_CINEMA_SUCCESS,\n      payload: data.success\n    });\n  } catch (error) {\n    dispatch({\n      type: UPDATE_CINEMA_FAIL,\n      payload: error.response.data.message\n    });\n  }\n};\n\n// Delete Cinema\nexport const deleteCinema = id => async dispatch => {\n  try {\n    dispatch({\n      type: DELETE_CINEMA_REQUEST\n    });\n    const {\n      data\n    } = await axios.delete(`/api/v1/admin/cinema/${id}`);\n    dispatch({\n      type: DELETE_CINEMA_SUCCESS,\n      payload: data.success\n    });\n  } catch (error) {\n    dispatch({\n      type: DELETE_CINEMA_FAIL,\n      payload: error.response.data.message\n    });\n  }\n};\n\n// Get Cinemas Details\nexport const getCinemaDetails = id => async dispatch => {\n  try {\n    dispatch({\n      type: CINEMA_DETAILS_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`/api/v1/cinema/${id}`);\n    dispatch({\n      type: CINEMA_DETAILS_SUCCESS,\n      payload: data.cinema\n    });\n  } catch (error) {\n    dispatch({\n      type: CINEMA_DETAILS_FAIL,\n      payload: error.response.data.message\n    });\n  }\n};\n\n// Clearing Errors\nexport const clearErrors = () => async dispatch => {\n  dispatch({\n    type: CLEAR_ERRORS\n  });\n};","map":{"version":3,"names":["axios","ADMIN_CINEMA_FAIL","ADMIN_CINEMA_REQUEST","ADMIN_CINEMA_SUCCESS","ALL_CINEMA_FAIL","ALL_CINEMA_REQUEST","ALL_CINEMA_SUCCESS","CLEAR_ERRORS","DELETE_CINEMA_FAIL","DELETE_CINEMA_REQUEST","DELETE_CINEMA_SUCCESS","CINEMA_DETAILS_FAIL","CINEMA_DETAILS_REQUEST","CINEMA_DETAILS_SUCCESS","NEW_CINEMA_FAIL","NEW_CINEMA_REQUEST","NEW_CINEMA_SUCCESS","UPDATE_CINEMA_FAIL","UPDATE_CINEMA_REQUEST","UPDATE_CINEMA_SUCCESS","getCinema","keyword","currentPage","category","tag","dispatch","type","link","data","get","payload","error","response","message","getAdminCinema","console","log","cinemas","createCinema","cinemaData","config","headers","post","updateCinema","id","put","success","deleteCinema","delete","getCinemaDetails","cinema","clearErrors"],"sources":["/Users/tao/DEPLOY/booking-home/src/actions/cinemaAction.js"],"sourcesContent":["import axios from \"axios\";\nimport {\n  ADMIN_CINEMA_FAIL,\n  ADMIN_CINEMA_REQUEST,\n  ADMIN_CINEMA_SUCCESS,\n  ALL_CINEMA_FAIL,\n  ALL_CINEMA_REQUEST,\n  ALL_CINEMA_SUCCESS,\n  CLEAR_ERRORS,\n  DELETE_CINEMA_FAIL,\n  DELETE_CINEMA_REQUEST,\n  DELETE_CINEMA_SUCCESS,\n  CINEMA_DETAILS_FAIL,\n  CINEMA_DETAILS_REQUEST,\n  CINEMA_DETAILS_SUCCESS,\n  NEW_CINEMA_FAIL,\n  NEW_CINEMA_REQUEST,\n  NEW_CINEMA_SUCCESS,\n  UPDATE_CINEMA_FAIL,\n  UPDATE_CINEMA_REQUEST,\n  UPDATE_CINEMA_SUCCESS,\n} from \"../constants/cinemaConstants\";\n// Get All Cinemas\nexport const getCinema =\n  (keyword = \"\", currentPage = 1, category, tag) =>\n  async (dispatch) => {\n    try {\n      dispatch({ type: ALL_CINEMA_REQUEST });\n\n      let link = `/api/v1/cinemas?keyword=${keyword}&page=${currentPage}`;\n\n      if (category) {\n        link = `/api/v1/cinemas?keyword=${keyword}&page=${currentPage}&category=${category}&tag=${tag}`;\n      }\n      if (tag) {\n        link = `/api/v1/cinemas?keyword=${keyword}&page=${currentPage}&category=${category}&tag=${tag}`;\n      }\n\n      const { data } = await axios.get(link);\n\n      dispatch({\n        type: ALL_CINEMA_SUCCESS,\n        payload: data,\n      });\n    } catch (error) {\n      dispatch({\n        type: ALL_CINEMA_FAIL,\n        payload: error.response.data.message,\n      });\n    }\n  };\n\n// Get All Cinemas For Admin\nexport const getAdminCinema = () => async (dispatch) => {\n  try {\n    dispatch({ type: ADMIN_CINEMA_REQUEST });\n\n    const { data } = await axios.get(\"/api/v1/admin/cinemas\");\n    console.log(data);\n    dispatch({\n      type: ADMIN_CINEMA_SUCCESS,\n      payload: data.cinemas,\n    });\n  } catch (error) {\n    dispatch({\n      type: ADMIN_CINEMA_FAIL,\n      payload: error.response.data.message,\n    });\n  }\n};\n\n// Create Cinema\nexport const createCinema = (cinemaData) => async (dispatch) => {\n  try {\n    dispatch({ type: NEW_CINEMA_REQUEST });\n\n    const config = {\n      headers: { \"Content-Type\": \"application/json\" },\n    };\n\n    const { data } = await axios.post(\n      `/api/v1/admin/cinema/new`,\n      cinemaData,\n      config\n    );\n\n    dispatch({\n      type: NEW_CINEMA_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: NEW_CINEMA_FAIL,\n      payload: error.response.data.message,\n    });\n  }\n};\n\n// Update Cinema\nexport const updateCinema = (id, cinemaData) => async (dispatch) => {\n  try {\n    dispatch({ type: UPDATE_CINEMA_REQUEST });\n\n    const config = {\n      headers: { \"Content-Type\": \"application/json\" },\n    };\n\n    const { data } = await axios.put(\n      `/api/v1/admin/cinema/${id}`,\n      cinemaData,\n      config\n    );\n\n    dispatch({\n      type: UPDATE_CINEMA_SUCCESS,\n      payload: data.success,\n    });\n  } catch (error) {\n    dispatch({\n      type: UPDATE_CINEMA_FAIL,\n      payload: error.response.data.message,\n    });\n  }\n};\n\n// Delete Cinema\nexport const deleteCinema = (id) => async (dispatch) => {\n  try {\n    dispatch({ type: DELETE_CINEMA_REQUEST });\n\n    const { data } = await axios.delete(`/api/v1/admin/cinema/${id}`);\n\n    dispatch({\n      type: DELETE_CINEMA_SUCCESS,\n      payload: data.success,\n    });\n  } catch (error) {\n    dispatch({\n      type: DELETE_CINEMA_FAIL,\n      payload: error.response.data.message,\n    });\n  }\n};\n\n// Get Cinemas Details\nexport const getCinemaDetails = (id) => async (dispatch) => {\n  try {\n    dispatch({ type: CINEMA_DETAILS_REQUEST });\n\n    const { data } = await axios.get(`/api/v1/cinema/${id}`);\n\n    dispatch({\n      type: CINEMA_DETAILS_SUCCESS,\n      payload: data.cinema,\n    });\n  } catch (error) {\n    dispatch({\n      type: CINEMA_DETAILS_FAIL,\n      payload: error.response.data.message,\n    });\n  }\n};\n\n// Clearing Errors\nexport const clearErrors = () => async (dispatch) => {\n  dispatch({ type: CLEAR_ERRORS });\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}