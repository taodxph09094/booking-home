{"ast":null,"code":"function ___$insertStyle(css) {\n  if (!css) {\n    return;\n  }\n  if (typeof window === 'undefined') {\n    return;\n  }\n  var style = document.createElement('style');\n  style.setAttribute('type', 'text/css');\n  style.innerHTML = css;\n  document.head.appendChild(style);\n  return css;\n}\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactTooltip from 'react-tooltip';\n___$insertStyle(\".blank {\\n  height: 28px;\\n  width: 28px;\\n}\\n\\n.loader {\\n  position: absolute;\\n  height: 100%;\\n  width: 100%;\\n  display: flex;\\n  background: rgba(240, 240, 240, 0.9);\\n  z-index: \\\"2\\\";\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.seat {\\n  background-color: #4FC3F7;\\n  height: 28px;\\n  width: 28px;\\n  color: #fff;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.seat__number {\\n  font-size: 10px;\\n}\\n.seat--north {\\n  border-top-left-radius: 8px;\\n  border-top-right-radius: 8px;\\n}\\n.seat--south {\\n  border-bottom-left-radius: 8px;\\n  border-bottom-right-radius: 8px;\\n}\\n.seat--east {\\n  border-top-left-radius: 8px;\\n  border-bottom-left-radius: 8px;\\n}\\n.seat--west {\\n  border-top-right-radius: 8px;\\n  border-bottom-right-radius: 8px;\\n}\\n.seat--enabled {\\n  cursor: pointer;\\n}\\n.seat--enabled:hover {\\n  background-color: #03A9F4;\\n}\\n.seat--selected {\\n  cursor: pointer;\\n  background-color: #4CAF50;\\n}\\n.seat--reserved {\\n  cursor: not-allowed;\\n  background-color: #E0E0E0;\\n}\\n\\n.seat-content {\\n  position: relative;\\n  overflow: hidden;\\n  margin: 0 auto;\\n}\\n\\n.seat-picker {\\n  display: flex;\\n  flex-direction: column;\\n  text-align: center;\\n  justify-content: center;\\n  align-items: center;\\n  width: max-content;\\n}\\n.seat-picker > *:not(:last-child) {\\n  margin-bottom: 2px;\\n}\\n.seat-picker__row {\\n  display: flex;\\n  align-items: center;\\n  justify-items: center;\\n}\\n.seat-picker__row > *:not(:last-child) {\\n  margin-right: 2px;\\n}\\n.seat-picker__row__number {\\n  font-weight: normal;\\n  height: 28px;\\n  width: 28px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  text-align: center;\\n  color: #9E9E9E;\\n}\\n.seat-picker__row--enabled:hover {\\n  background-color: #F5F5F5;\\n}\\n.seat-picker__row--selected {\\n  background-color: #F5F5F5;\\n}\\n.seat-picker__row--enabled:hover > .seat-picker__row__number {\\n  font-weight: 600;\\n}\\n.seat-picker__row--selected > .seat-picker__row__number {\\n  font-weight: 600;\\n}\");\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n  return _assertThisInitialized(self);\n}\nvar RowNumber = /*#__PURE__*/\nfunction (_Component) {\n  _inherits(RowNumber, _Component);\n  function RowNumber() {\n    _classCallCheck(this, RowNumber);\n    return _possibleConstructorReturn(this, _getPrototypeOf(RowNumber).apply(this, arguments));\n  }\n  _createClass(RowNumber, [{\n    key: \"render\",\n    value: function render() {\n      return this.props.visible ? React.createElement(\"div\", {\n        className: \"seat-picker__row__number\"\n      }, this.props.rowNumber) : null;\n    }\n  }]);\n  return RowNumber;\n}(Component);\n_defineProperty(RowNumber, \"propTypes\", {\n  rowNumber: PropTypes.string,\n  visible: PropTypes.bool\n});\nvar Row = /*#__PURE__*/\nfunction (_Component) {\n  _inherits(Row, _Component);\n  function Row() {\n    _classCallCheck(this, Row);\n    return _possibleConstructorReturn(this, _getPrototypeOf(Row).apply(this, arguments));\n  }\n  _createClass(Row, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        visible = _this$props.visible,\n        rowNumber = _this$props.rowNumber,\n        isSelected = _this$props.isSelected;\n      var className = \"seat-picker__row\" + (isSelected ? \" seat-picker__row--selected\" : \" seat-picker__row--enabled\");\n      return React.createElement(\"div\", {\n        className: className\n      }, React.createElement(RowNumber, {\n        rowNumber: rowNumber,\n        visible: visible\n      }), this.props.children);\n    }\n  }]);\n  return Row;\n}(Component);\n_defineProperty(Row, \"propTypes\", {\n  rowNumber: PropTypes.string,\n  visible: PropTypes.bool,\n  isSelected: PropTypes.bool,\n  children: PropTypes.array\n});\nvar Seat = /*#__PURE__*/\nfunction (_Component) {\n  _inherits(Seat, _Component);\n  function Seat() {\n    var _getPrototypeOf2;\n    var _this;\n    _classCallCheck(this, Seat);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Seat)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function () {\n      !_this.props.isReserved && _this.props.selectSeat();\n    });\n    return _this;\n  }\n  _createClass(Seat, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        isSelected = _this$props.isSelected,\n        tooltip = _this$props.tooltip,\n        isEnabled = _this$props.isEnabled,\n        isReserved = _this$props.isReserved,\n        orientation = _this$props.orientation;\n      var className = \"seat\" + (isSelected ? \" seat--selected\" : \"\") + (!isSelected && isEnabled && !isReserved ? \" seat--enabled\" : \"\") + (isReserved ? \" seat--reserved\" : \"\") + \" seat--\".concat(!orientation ? \"north\" : orientation);\n      return React.createElement(\"div\", {\n        \"data-tip\": tooltip,\n        className: className,\n        onClick: this.handleClick\n      }, tooltip ? React.createElement(ReactTooltip, this.props.tooltipProps) : null, React.createElement(\"span\", {\n        className: \"seat__number\"\n      }, this.props.seatNumber));\n    }\n  }]);\n  return Seat;\n}(Component);\n_defineProperty(Seat, \"defaultProps\", {\n  isSelected: false\n});\nSeat.propTypes = {\n  isSelected: PropTypes.bool,\n  isReserved: PropTypes.bool,\n  tooltip: PropTypes.string,\n  isEnabled: PropTypes.bool,\n  orientation: PropTypes.oneOf([\"north\", \"south\", \"east\", \"west\"]),\n  seatNumber: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  selectSeat: PropTypes.func.isRequired,\n  tooltipProps: PropTypes.object\n};\nvar Blank = /*#__PURE__*/\nfunction (_Component) {\n  _inherits(Blank, _Component);\n  function Blank() {\n    _classCallCheck(this, Blank);\n    return _possibleConstructorReturn(this, _getPrototypeOf(Blank).apply(this, arguments));\n  }\n  _createClass(Blank, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"blank\"\n      });\n    }\n  }]);\n  return Blank;\n}(Component);\nvar SeatPicker = /*#__PURE__*/\nfunction (_Component) {\n  _inherits(SeatPicker, _Component);\n  function SeatPicker(props) {\n    var _this;\n    _classCallCheck(this, SeatPicker);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SeatPicker).call(this, props));\n    _defineProperty(_assertThisInitialized(_this), \"getAlreadySelectedSeats\", function () {\n      var selectedSeats = {};\n      var size = 0;\n      var _this$props = _this.props,\n        maxReservableSeats = _this$props.maxReservableSeats,\n        alpha = _this$props.alpha,\n        selectedByDefault = _this$props.selectedByDefault;\n      if (selectedByDefault) {\n        _this.props.rows.forEach(function (row, index) {\n          var rowNumber = alpha ? String.fromCharCode(\"A\".charCodeAt(0) + index) : (index + 1).toString();\n          row.forEach(function (seat, index) {\n            if (seat && seat.isSelected) {\n              var seatAlreadySelected = _this.includeSeat(selectedSeats, rowNumber, seat.number);\n              if (size < maxReservableSeats && !seatAlreadySelected) {\n                selectedSeats = _this.addSeat(selectedSeats, rowNumber, seat.number, seat.id);\n                size = size + 1;\n              }\n            }\n          });\n        });\n      }\n      return {\n        selectedSeats: selectedSeats,\n        size: size\n      };\n    });\n    _defineProperty(_assertThisInitialized(_this), \"includeSeat\", function (selectedSeats, row, number) {\n      if (selectedSeats[row]) {\n        return !!selectedSeats[row][number];\n      }\n      return false;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"addSeat\", function (selectedSeats, row, number, id) {\n      if (selectedSeats[row]) {\n        if (!selectedSeats[row][number]) {\n          selectedSeats[row][number] = id;\n        }\n      } else {\n        selectedSeats[row] = {};\n        selectedSeats[row][number] = id;\n      }\n      return _objectSpread2({}, selectedSeats);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"deleteSeat\", function (row, number) {\n      var selectedSeats = _this.state.selectedSeats;\n      if (selectedSeats[row]) {\n        delete selectedSeats[row][number];\n        if (!Object.keys(selectedSeats[row]).length > 0) {\n          delete selectedSeats[row];\n        }\n      }\n      return _objectSpread2({}, selectedSeats);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"addTooltip\", function (tooltipOverrides, row, number, tooltip) {\n      if (!tooltipOverrides[row]) {\n        tooltipOverrides[row] = {};\n      }\n      tooltipOverrides[row][number] = tooltip;\n      return _objectSpread2({}, tooltipOverrides);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"acceptSelection\", function (row, number, id, tooltip) {\n      var _this$state = _this.state,\n        selectedSeats = _this$state.selectedSeats,\n        tooltipOverrides = _this$state.tooltipOverrides,\n        size = _this$state.size;\n      var maxReservableSeats = _this.props.maxReservableSeats;\n      if (size < maxReservableSeats) {\n        _this.setState({\n          tooltipOverrides: _this.addTooltip(tooltipOverrides, row, number, tooltip),\n          selectedSeats: _this.addSeat(selectedSeats, row, number, id),\n          size: size + 1\n        });\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"acceptDeselection\", function (row, number, tooltip) {\n      var _this$state2 = _this.state,\n        size = _this$state2.size,\n        tooltipOverrides = _this$state2.tooltipOverrides;\n      _this.setState({\n        tooltipOverrides: _this.addTooltip(tooltipOverrides, row, number, tooltip),\n        selectedSeats: _this.deleteSeat(row, number),\n        size: size - 1\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"selectSeat\", function (row, number, id) {\n      var selectedSeats = _this.state.selectedSeats;\n      var size = _this.state.size;\n      var _this$props2 = _this.props,\n        maxReservableSeats = _this$props2.maxReservableSeats,\n        addSeatCallback = _this$props2.addSeatCallback,\n        removeSeatCallback = _this$props2.removeSeatCallback,\n        continuous = _this$props2.continuous;\n      var seatAlreadySelected = _this.includeSeat(selectedSeats, row, number);\n      if (seatAlreadySelected) {\n        removeSeatCallback({\n          row: row,\n          number: number,\n          id: id\n        }, _this.acceptDeselection);\n      } else {\n        if (size < maxReservableSeats) {\n          addSeatCallback({\n            row: row,\n            number: number,\n            id: id\n          }, _this.acceptSelection);\n        } else if (continuous) {\n          var auxRow = Object.keys(selectedSeats)[0];\n          var auxNumber = Object.keys(selectedSeats[auxRow])[0];\n          addSeatCallback({\n            row: row,\n            number: number,\n            id: id\n          }, _this.acceptSelection, {\n            row: auxRow,\n            number: auxNumber,\n            id: selectedSeats[auxRow][auxNumber]\n          }, _this.acceptDeselection);\n        }\n      }\n    });\n    var rows = props.rows;\n    var _this$getAlreadySelec = _this.getAlreadySelectedSeats(),\n      _selectedSeats = _this$getAlreadySelec.selectedSeats,\n      _size = _this$getAlreadySelec.size;\n    _this.state = {\n      tooltipOverrides: {},\n      selectedSeats: _selectedSeats,\n      size: _size,\n      rowLength: Math.max.apply(null, rows.map(function (row) {\n        return row.length;\n      }))\n    };\n    return _this;\n  }\n  _createClass(SeatPicker, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return nextState.selectedSeats !== this.state.selectedSeats || this.props.loading !== nextProps.loading;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"seat-content\"\n      }, React.createElement(\"div\", {\n        className: this.props.loading ? \"loader\" : null\n      }), React.createElement(\"div\", {\n        className: \"seat-picker\"\n      }, this.renderRows()));\n    }\n  }, {\n    key: \"renderRows\",\n    value: function renderRows() {\n      var _this2 = this;\n      var seats = this.state.selectedSeats;\n      var _this$props3 = this.props,\n        alpha = _this$props3.alpha,\n        visible = _this$props3.visible;\n      return this.props.rows.map(function (row, index) {\n        var rowNumber = alpha ? String.fromCharCode(\"A\".charCodeAt(0) + index) : (index + 1).toString();\n        var isSelected = !!seats[rowNumber];\n        var props = {\n          visible: visible,\n          rowNumber: rowNumber,\n          isSelected: isSelected,\n          selectedSeat: null,\n          seats: row,\n          // key: `Row${rowNumber}`,\n          selectSeat: _this2.selectSeat\n        };\n        return React.createElement(Row, _extends({\n          key: index\n        }, props), _this2.renderSeats(row, rowNumber, isSelected), \" \");\n      });\n    }\n  }, {\n    key: \"renderSeats\",\n    value: function renderSeats(seats, rowNumber, isRowSelected) {\n      var _this3 = this;\n      var _this$state3 = this.state,\n        selectedSeats = _this$state3.selectedSeats,\n        size = _this$state3.size,\n        rowLength = _this$state3.rowLength,\n        tooltipOverrides = _this$state3.tooltipOverrides;\n      var _this$props4 = this.props,\n        maxReservableSeats = _this$props4.maxReservableSeats,\n        continuous = _this$props4.continuous;\n      var blanks = new Array(rowLength - seats.length > 0 ? rowLength - seats.length : 0).fill(0);\n      var row = seats.map(function (seat, index) {\n        if (seat === null) return React.createElement(Blank, {\n          key: index\n        });\n        var isSelected = isRowSelected && _this3.includeSeat(selectedSeats, rowNumber, seat.number);\n        var tooltip = seat.tooltip;\n        if (tooltipOverrides[rowNumber] && tooltipOverrides[rowNumber][seat.number] != null) {\n          tooltip = tooltipOverrides[rowNumber][seat.number];\n        }\n        var props = {\n          isSelected: isSelected,\n          orientation: seat.orientation,\n          isReserved: seat.isReserved,\n          tooltip: tooltip,\n          isEnabled: size < maxReservableSeats || continuous,\n          selectSeat: _this3.selectSeat.bind(_this3, rowNumber, seat.number, seat.id),\n          seatNumber: seat.number,\n          tooltipProps: _this3.props.tooltipProps\n        };\n        return React.createElement(Seat, _extends({\n          key: index\n        }, props));\n      });\n      if (blanks.length > 0) {\n        blanks.forEach(function (blank, index) {\n          row.push(React.createElement(Blank, {\n            key: row.length + index + 1\n          }));\n        });\n      }\n      return row;\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      if (props.maxReservableSeats < state.size) {\n        var sum = 0;\n        var selectedSeats = {};\n        for (var array in state.selectedSeats) {\n          if (sum + state.selectedSeats[array].length < props.maxReservableSeats) {\n            selectedSeats[array] = state.selectedSeats[array].slice(0);\n          } else {\n            var dif = props.maxReservableSeats - sum;\n            selectedSeats[array] = state.selectedSeats[array].slice(0, dif);\n            return {\n              selectedSeats: selectedSeats,\n              size: props.maxReservableSeats\n            };\n          }\n          sum = sum + state.selectedSeats[array].length;\n        }\n      }\n      return null;\n    }\n  }]);\n  return SeatPicker;\n}(Component);\n_defineProperty(SeatPicker, \"defaultProps\", {\n  addSeatCallback: function addSeatCallback(_ref, addCb) {\n    var row = _ref.row,\n      number = _ref.number,\n      id = _ref.id;\n    console.log(\"Added seat \".concat(number, \", row \").concat(row, \", id \").concat(id));\n    addCb(row, number, id);\n  },\n  removeSeatCallback: function removeSeatCallback(_ref2, removeCb) {\n    var row = _ref2.row,\n      number = _ref2.number,\n      id = _ref2.id;\n    console.log(\"Removed seat \".concat(number, \", row \").concat(row, \", id \").concat(id));\n    removeCb(row, number);\n  },\n  maxReservableSeats: 0\n});\nSeatPicker.propTypes = {\n  addSeatCallback: PropTypes.func,\n  alpha: PropTypes.bool,\n  visible: PropTypes.bool,\n  continuous: PropTypes.bool,\n  selectedByDefault: PropTypes.bool,\n  removeSeatCallback: PropTypes.func,\n  maxReservableSeats: PropTypes.number,\n  rows: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.shape({\n    number: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    isReserved: PropTypes.bool,\n    tooltip: PropTypes.string,\n    isSelected: PropTypes.bool\n  }))).isRequired,\n  tooltipProps: PropTypes.object,\n  loading: PropTypes.bool\n};\nexport default SeatPicker;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAGqBA;;;;;;;;;6BAMV;aACA,KAAKC,KAAL,CAAWC,OAAX,GACLC;QAAKC,SAAS,EAAC;SAA4B,KAAKH,KAAL,CAAWI,SAAtD,CADK,GAEH,IAFJ;;;;EAPmCC;gBAAlBN,wBACA;EACjBK,SAAS,EAAEE,SAAS,CAACC,MADJ;EAEjBN,OAAO,EAAEK,SAAS,CAACE;;ICFFC;;;;;;;;;6BAQV;wBACoC,KAAKT,KADzC;QACCC,OADD,eACCA,OADD;QACUG,SADV,eACUA,SADV;QACqBM,UADrB,eACqBA,UADrB;UAEDP,SAAS,GACb,sBACCO,UAAU,GACP,6BADO,GAEP,4BAHJ,CADF;aAMER;QAAKC,SAAS,EAAEA;SACdD,oBAACH,SAAD;QAAWK,SAAS,EAAEA,SAAtB;QAAiCH,OAAO,EAAEA;QAD5C,EAEG,KAAKD,KAAL,CAAWW,QAFd,CADF;;;;EAf6BN;gBAAZI,kBACA;EACjBL,SAAS,EAAEE,SAAS,CAACC,MADJ;EAEjBN,OAAO,EAAEK,SAAS,CAACE,IAFF;EAGjBE,UAAU,EAAEJ,SAAS,CAACE,IAHL;EAIjBG,QAAQ,EAAEL,SAAS,CAACM;;ICLHC;;;;;;;;;;;kEAKL,YAAM;OACjBC,MAAKd,KAAL,CAAWe,UAAZ,IAA0BD,MAAKd,KAAL,CAAWgB,UAAX,EAA1B;;;;;;6BAGO;wBAOH,KAAKhB,KAPF;QAELU,UAFK,eAELA,UAFK;QAGLO,OAHK,eAGLA,OAHK;QAILC,SAJK,eAILA,SAJK;QAKLH,UALK,eAKLA,UALK;QAMLI,WANK,eAMLA,WANK;UAQDhB,SAAS,GACb,UACCO,UAAU,GAAG,iBAAH,GAAuB,EADlC,KAEC,CAACA,UAAD,IAAeQ,SAAf,IAA4B,CAACH,UAA7B,GAA0C,gBAA1C,GAA6D,EAF9D,KAGCA,UAAU,GAAG,iBAAH,GAAuB,EAHlC,qBAIU,CAACI,WAAD,GAAe,OAAf,GAAyBA,WAJnC,CADF;aAOEjB;oBAAee,OAAf;QAAwBd,SAAS,EAAEA,SAAnC;QAA8CiB,OAAO,EAAE,KAAKC;SACzDJ,OAAO,GAAGf,oBAACoB,YAAD,EAAkB,KAAKtB,KAAL,CAAWuB,YAA7B,CAAH,GAAmD,IAD7D,EAEErB;QAAMC,SAAS,EAAC;SAAgB,KAAKH,KAAL,CAAWwB,UAA3C,CAFF,CADF;;;;EAvB8BnB;gBAAbQ,sBACG;EACpBH,UAAU,EAAE;;AA8BhBG,IAAI,CAACY,SAAL,GAAiB;EACff,UAAU,EAAEJ,SAAS,CAACE,IADP;EAEfO,UAAU,EAAET,SAAS,CAACE,IAFP;EAGfS,OAAO,EAAEX,SAAS,CAACC,MAHJ;EAIfW,SAAS,EAAEZ,SAAS,CAACE,IAJN;EAKfW,WAAW,EAAEb,SAAS,CAACoB,KAAV,CAAgB,CAAC,OAAD,EAAU,OAAV,EAAmB,MAAnB,EAA2B,MAA3B,CAAhB,CALE;EAMfF,UAAU,EAAElB,SAAS,CAACqB,SAAV,CAAoB,CAACrB,SAAS,CAACC,MAAX,EAAmBD,SAAS,CAACsB,MAA7B,CAApB,CANG;EAOfZ,UAAU,EAAEV,SAAS,CAACuB,IAAV,CAAeC,UAPZ;EAQfP,YAAY,EAAEjB,SAAS,CAACyB;CAR1B;IClCqBC;;;;;;;;;6BACV;aACA9B;QAAKC,SAAS,EAAC;QAAtB;;;;EAF+BE;ICItB4B,UAAb;AAAA;;sBAacjC,KAAZ,EAAmB;;;oFACXA,KAAN;8EA6CwB,YAAM;UAC1BkC,aAAa,GAAG,EAApB;UACIC,IAAI,GAAG,CAAX;wBACyDrB,MAAKd,KAHhC;QAGtBoC,kBAHsB,eAGtBA,kBAHsB;QAGFC,KAHE,eAGFA,KAHE;QAGKC,iBAHL,eAGKA,iBAHL;UAI1BA,iBAAJ,EAAuB;cAChBtC,KAAL,CAAWuC,IAAX,CAAgBC,OAAhB,CAAwB,UAACC,GAAD,EAAMC,KAAN,EAAgB;cAChCtC,SAAS,GAAGiC,KAAK,GACnBM,MAAM,CAACC,YAAP,CAAoB,IAAIC,UAAJ,CAAe,CAAf,IAAoBH,KAAxC,CADmB,GAEnB,CAACA,KAAK,GAAG,CAAT,EAAYI,QAAZ,EAFJ;UAGAL,GAAG,CAACD,OAAJ,CAAY,UAACO,IAAD,EAAOL,KAAP,EAAiB;gBACvBK,IAAI,IAAIA,IAAI,CAACrC,UAAjB,EAA6B;kBACrBsC,mBAAmB,GAAGlC,MAAKmC,WAAL,CAC1Bf,aAD0B,EAE1B9B,SAF0B,EAG1B2C,IAAI,CAACnB,MAHqB,CAA5B;kBAKIO,IAAI,GAAGC,kBAAP,IAA6B,CAACY,mBAAlC,EAAuD;gBACrDd,aAAa,GAAGpB,MAAKoC,OAAL,CACdhB,aADc,EAEd9B,SAFc,EAGd2C,IAAI,CAACnB,MAHS,EAIdmB,IAAI,CAACI,EAJS,CAAhB;gBAMAhB,IAAI,GAAGA,IAAI,GAAG,CAAd;;;WAdN;SAJF;;aAwBK;QAAED,aAAa,EAAbA,aAAF;QAAiBC,IAAI,EAAJA;OAAxB;KA3EiB;kEA8EL,UAACD,aAAD,EAAgBO,GAAhB,EAAqBb,MAArB,EAAgC;UACxCM,aAAa,CAACO,GAAD,CAAjB,EAAwB;eACf,CAAC,CAACP,aAAa,CAACO,GAAD,CAAb,CAAmBb,MAAnB,CAAT;;aAEK,KAAP;KAlFiB;8DAqFT,UAACM,aAAD,EAAgBO,GAAhB,EAAqBb,MAArB,EAA6BuB,EAA7B,EAAoC;UACxCjB,aAAa,CAACO,GAAD,CAAjB,EAAwB;YAClB,CAACP,aAAa,CAACO,GAAD,CAAb,CAAmBb,MAAnB,CAAL,EAAiC;UAC/BM,aAAa,CAACO,GAAD,CAAb,CAAmBb,MAAnB,IAA6BuB,EAA7B;;OAFJ,MAIO;QACLjB,aAAa,CAACO,GAAD,CAAb,GAAqB,EAArB;QACAP,aAAa,CAACO,GAAD,CAAb,CAAmBb,MAAnB,IAA6BuB,EAA7B;;gCAEUjB,aAAZ;KA9FiB;iEAiGN,UAACO,GAAD,EAAMb,MAAN,EAAiB;UACpBM,aADoB,GACFpB,MAAKsC,KADH,CACpBlB,aADoB;UAExBA,aAAa,CAACO,GAAD,CAAjB,EAAwB;eACfP,aAAa,CAACO,GAAD,CAAb,CAAmBb,MAAnB,CAAP;YACI,CAACyB,MAAM,CAACC,IAAP,CAAYpB,aAAa,CAACO,GAAD,CAAzB,EAAgCc,MAAjC,GAA0C,CAA9C,EAAiD;iBACxCrB,aAAa,CAACO,GAAD,CAApB;;;gCAGQP,aAAZ;KAzGiB;iEA4GN,UAACsB,gBAAD,EAAmBf,GAAnB,EAAwBb,MAAxB,EAAgCX,OAAhC,EAA4C;UACnD,CAACuC,gBAAgB,CAACf,GAAD,CAArB,EAA4B;QAC1Be,gBAAgB,CAACf,GAAD,CAAhB,GAAwB,EAAxB;;MAEFe,gBAAgB,CAACf,GAAD,CAAhB,CAAsBb,MAAtB,IAAgCX,OAAhC;gCACYuC,gBAAZ;KAjHiB;sEAoHD,UAACf,GAAD,EAAMb,MAAN,EAAcuB,EAAd,EAAkBlC,OAAlB,EAA8B;wBACIH,MAAKsC,KADT;QACtClB,aADsC,eACtCA,aADsC;QACvBsB,gBADuB,eACvBA,gBADuB;QACLrB,IADK,eACLA,IADK;UAEtCC,kBAFsC,GAEftB,MAAKd,KAFU,CAEtCoC,kBAFsC;UAG1CD,IAAI,GAAGC,kBAAX,EAA+B;cACxBqB,QAAL,CAAc;UACZD,gBAAgB,EAAE1C,MAAK4C,UAAL,CAChBF,gBADgB,EAEhBf,GAFgB,EAGhBb,MAHgB,EAIhBX,OAJgB,CADN;UAOZiB,aAAa,EAAEpB,MAAKoC,OAAL,CAAahB,aAAb,EAA4BO,GAA5B,EAAiCb,MAAjC,EAAyCuB,EAAzC,CAPH;UAQZhB,IAAI,EAAEA,IAAI,GAAG;SARf;;KAxHe;wEAqIC,UAACM,GAAD,EAAMb,MAAN,EAAcX,OAAd,EAA0B;yBACTH,MAAKsC,KADI;QACpCjB,IADoC,gBACpCA,IADoC;QAC9BqB,gBAD8B,gBAC9BA,gBAD8B;YAEvCC,QAAL,CAAc;QACZD,gBAAgB,EAAE1C,MAAK4C,UAAL,CAAgBF,gBAAhB,EAAkCf,GAAlC,EAAuCb,MAAvC,EAA+CX,OAA/C,CADN;QAEZiB,aAAa,EAAEpB,MAAK6C,UAAL,CAAgBlB,GAAhB,EAAqBb,MAArB,CAFH;QAGZO,IAAI,EAAEA,IAAI,GAAG;OAHf;KAvIiB;iEA8IN,UAACM,GAAD,EAAMb,MAAN,EAAcuB,EAAd,EAAqB;UACxBjB,aADwB,GACNpB,MAAKsC,KADC,CACxBlB,aADwB;UAE1BC,IAAI,GAAGrB,MAAKsC,KAAL,CAAWjB,IAAxB;yBAMIrB,MAAKd,KARuB;QAI9BoC,kBAJ8B,gBAI9BA,kBAJ8B;QAK9BwB,eAL8B,gBAK9BA,eAL8B;QAM9BC,kBAN8B,gBAM9BA,kBAN8B;QAO9BC,UAP8B,gBAO9BA,UAP8B;UAS1Bd,mBAAmB,GAAGlC,MAAKmC,WAAL,CAAiBf,aAAjB,EAAgCO,GAAhC,EAAqCb,MAArC,CAA5B;UAEIoB,mBAAJ,EAAyB;QACvBa,kBAAkB,CAAC;UAAEpB,GAAG,EAAHA,GAAF;UAAOb,MAAM,EAANA,MAAP;UAAeuB,EAAE,EAAFA;SAAhB,EAAsBrC,MAAKiD,iBAA3B,CAAlB;OADF,MAEO;YACD5B,IAAI,GAAGC,kBAAX,EAA+B;UAC7BwB,eAAe,CAAC;YAAEnB,GAAG,EAAHA,GAAF;YAAOb,MAAM,EAANA,MAAP;YAAeuB,EAAE,EAAFA;WAAhB,EAAsBrC,MAAKkD,eAA3B,CAAf;SADF,MAEO,IAAIF,UAAJ,EAAgB;cACfG,MAAM,GAAGZ,MAAM,CAACC,IAAP,CAAYpB,aAAZ,EAA2B,CAA3B,CAAf;cACMgC,SAAS,GAAGb,MAAM,CAACC,IAAP,CAAYpB,aAAa,CAAC+B,MAAD,CAAzB,EAAmC,CAAnC,CAAlB;UACAL,eAAe,CACb;YAAEnB,GAAG,EAAHA,GAAF;YAAOb,MAAM,EAANA,MAAP;YAAeuB,EAAE,EAAFA;WADF,EAEbrC,MAAKkD,eAFQ,EAGb;YACEvB,GAAG,EAAEwB,MADP;YAEErC,MAAM,EAAEsC,SAFV;YAGEf,EAAE,EAAEjB,aAAa,CAAC+B,MAAD,CAAb,CAAsBC,SAAtB;WANO,EAQbpD,MAAKiD,iBARQ,CAAf;;;KAjKa;QAETxB,IAFS,GAEAvC,KAFA,CAETuC,IAFS;gCAGezB,MAAKqD,uBAAL,EAHf;MAGTjC,cAHS,yBAGTA,aAHS;MAGMC,KAHN,yBAGMA,IAHN;UAIZiB,KAAL,GAAa;MACXI,gBAAgB,EAAE,EADP;MAEXtB,aAAa,EAAEA,cAFJ;MAGXC,IAAI,EAAEA,KAHK;MAIXiC,SAAS,EAAEC,IAAI,CAACC,GAAL,CAASC,KAAT,CACT,IADS,EAEThC,IAAI,CAACiC,GAAL,CAAS,aAAG;eAAI/B,GAAG,CAACc,MAAR;OAAZ,CAFS;KAJb;;;;;0CAmCoBkB,SApDxB,EAoDmCC,SApDnC,EAoD8C;aAExCA,SAAS,CAACxC,aAAV,KAA4B,KAAKkB,KAAL,CAAWlB,aAAvC,IACA,KAAKlC,KAAL,CAAW2E,OAAX,KAAuBF,SAAS,CAACE,OAFnC;;;;6BAuIO;aAELzE;QAAKC,SAAS,EAAC;SACbD;QAAKC,SAAS,EAAE,KAAKH,KAAL,CAAW2E,OAAX,GAAqB,QAArB,GAAgC;QADlD,EAEEzE;QAAKC,SAAS,EAAC;SAAe,KAAKyE,UAAL,EAA9B,CAFF,CADF;;;;iCAQW;;UACYC,KADZ,GACsB,KAAKzB,KAD3B,CACHlB,aADG;yBAEgB,KAAKlC,KAFrB;QAEHqC,KAFG,gBAEHA,KAFG;QAEIpC,OAFJ,gBAEIA,OAFJ;aAGJ,KAAKD,KAAL,CAAWuC,IAAX,CAAgBiC,GAAhB,CAAoB,UAAC/B,GAAD,EAAMC,KAAN,EAAgB;YACnCtC,SAAS,GAAGiC,KAAK,GACnBM,MAAM,CAACC,YAAP,CAAoB,IAAIC,UAAJ,CAAe,CAAf,IAAoBH,KAAxC,CADmB,GAEnB,CAACA,KAAK,GAAG,CAAT,EAAYI,QAAZ,EAFJ;YAGMpC,UAAU,GAAG,CAAC,CAACmE,KAAK,CAACzE,SAAD,CAA1B;YACMJ,KAAK,GAAG;UACZC,OAAO,EAAPA,OADY;UAEZG,SAAS,EAATA,SAFY;UAGZM,UAAU,EAAVA,UAHY;UAIZoE,YAAY,EAAE,IAJF;UAKZD,KAAK,EAAEpC,GALK;;UAOZzB,UAAU,EAAE+D,MAAI,CAAC/D;SAPnB;eAWEd,oBAACO,GAAD;UAAKuE,GAAG,EAAEtC;WAAW1C,KAArB,GACG+E,MAAI,CAACE,WAAL,CAAiBxC,GAAjB,EAAsBrC,SAAtB,EAAiCM,UAAjC,CADH,EACiD,GADjD,CADF;OAfK,CAAP;;;;gCAuBUmE,KA/Nd,EA+NqBzE,SA/NrB,EA+NgC8E,aA/NhC,EA+N+C;;yBACkB,KAAK9B,KADvB;QACnClB,aADmC,gBACnCA,aADmC;QACpBC,IADoB,gBACpBA,IADoB;QACdiC,SADc,gBACdA,SADc;QACHZ,gBADG,gBACHA,gBADG;yBAEA,KAAKxD,KAFL;QAEnCoC,kBAFmC,gBAEnCA,kBAFmC;QAEf0B,UAFe,gBAEfA,UAFe;UAGrCqB,MAAM,GAAG,IAAIC,KAAJ,CACbhB,SAAS,GAAGS,KAAK,CAACtB,MAAlB,GAA2B,CAA3B,GAA+Ba,SAAS,GAAGS,KAAK,CAACtB,MAAjD,GAA0D,CAD7C,EAEb8B,IAFa,CAER,CAFQ,CAAf;UAGM5C,GAAG,GAAGoC,KAAK,CAACL,GAAN,CAAU,UAACzB,IAAD,EAAOL,KAAP,EAAiB;YACjCK,IAAI,KAAK,IAAb,EAAmB,OAAO7C,oBAAC8B,KAAD;UAAOgD,GAAG,EAAEtC;UAAnB;YACbhC,UAAU,GACdwE,aAAa,IACbI,MAAI,CAACrC,WAAL,CAAiBf,aAAjB,EAAgC9B,SAAhC,EAA2C2C,IAAI,CAACnB,MAAhD,CAFF;YAGIX,OAAO,GAAG8B,IAAI,CAAC9B,OAAnB;YAEEuC,gBAAgB,CAACpD,SAAD,CAAhB,IACAoD,gBAAgB,CAACpD,SAAD,CAAhB,CAA4B2C,IAAI,CAACnB,MAAjC,KAA4C,IAF9C,EAGE;UACAX,OAAO,GAAGuC,gBAAgB,CAACpD,SAAD,CAAhB,CAA4B2C,IAAI,CAACnB,MAAjC,CAAV;;YAEI5B,KAAK,GAAG;UACZU,UAAU,EAAVA,UADY;UAEZS,WAAW,EAAE4B,IAAI,CAAC5B,WAFN;UAGZJ,UAAU,EAAEgC,IAAI,CAAChC,UAHL;UAIZE,OAAO,EAAPA,OAJY;UAKZC,SAAS,EAAEiB,IAAI,GAAGC,kBAAP,IAA6B0B,UAL5B;UAMZ9C,UAAU,EAAEsE,MAAI,CAACtE,UAAL,CAAgBuE,IAAhB,CAAqBD,MAArB,EAA2BlF,SAA3B,EAAsC2C,IAAI,CAACnB,MAA3C,EAAmDmB,IAAI,CAACI,EAAxD,CANA;UAOZ3B,UAAU,EAAEuB,IAAI,CAACnB,MAPL;UAQZL,YAAY,EAAE+D,MAAI,CAACtF,KAAL,CAAWuB;SAR3B;eAUOrB,oBAACW,IAAD;UAAMmE,GAAG,EAAEtC;WAAW1C,KAAtB,EAAP;OAtBU,CAAZ;UAwBImF,MAAM,CAAC5B,MAAP,GAAgB,CAApB,EAAuB;QACrB4B,MAAM,CAAC3C,OAAP,CAAe,UAACgD,KAAD,EAAQ9C,KAAR,EAAkB;UAC/BD,GAAG,CAACgD,IAAJ,CAASvF,oBAAC8B,KAAD;YAAOgD,GAAG,EAAEvC,GAAG,CAACc,MAAJ,GAAab,KAAb,GAAqB;YAA1C;SADF;;aAIKD,GAAP;;;;6CAtO8BzC,KA5BlC,EA4ByCoD,KA5BzC,EA4BgD;UACxCpD,KAAK,CAACoC,kBAAN,GAA2BgB,KAAK,CAACjB,IAArC,EAA2C;YACrCuD,GAAG,GAAG,CAAV;YACMxD,aAAa,GAAG,EAAtB;aACK,IAAMtB,KAAX,IAAoBwC,KAAK,CAAClB,aAA1B,EAAyC;cAErCwD,GAAG,GAAGtC,KAAK,CAAClB,aAAN,CAAoBtB,KAApB,EAA2B2C,MAAjC,GACAvD,KAAK,CAACoC,kBAFR,EAGE;YACAF,aAAa,CAACtB,KAAD,CAAb,GAAuBwC,KAAK,CAAClB,aAAN,CAAoBtB,KAApB,EAA2B+E,KAA3B,CAAiC,CAAjC,CAAvB;WAJF,MAKO;gBACCC,GAAG,GAAG5F,KAAK,CAACoC,kBAAN,GAA2BsD,GAAvC;YACAxD,aAAa,CAACtB,KAAD,CAAb,GAAuBwC,KAAK,CAAClB,aAAN,CAAoBtB,KAApB,EAA2B+E,KAA3B,CAAiC,CAAjC,EAAoCC,GAApC,CAAvB;mBACO;cACL1D,aAAa,EAAEA,aADV;cAELC,IAAI,EAAEnC,KAAK,CAACoC;aAFd;;UAKFsD,GAAG,GAAGA,GAAG,GAAGtC,KAAK,CAAClB,aAAN,CAAoBtB,KAApB,EAA2B2C,MAAvC;;;aAGG,IAAP;;;;EAjD4BlD,SAAhC;gBAAa4B,4BACW;EACpB2B,eAAe,EAAE,+BAAsBiC,KAAtB,EAAgC;QAA7BpD,GAA6B,QAA7BA,GAA6B;MAAxBb,MAAwB,QAAxBA,MAAwB;MAAhBuB,EAAgB,QAAhBA,EAAgB;IAC/C2C,OAAO,CAACC,GAAR,sBAA0BnE,MAA1B,mBAAyCa,GAAzC,kBAAoDU,EAApD;IACA0C,KAAK,CAACpD,GAAD,EAAMb,MAAN,EAAcuB,EAAd,CAAL;GAHkB;EAKpBU,kBAAkB,EAAE,mCAAsBmC,QAAtB,EAAmC;QAAhCvD,GAAgC,SAAhCA,GAAgC;MAA3Bb,MAA2B,SAA3BA,MAA2B;MAAnBuB,EAAmB,SAAnBA,EAAmB;IACrD2C,OAAO,CAACC,GAAR,wBAA4BnE,MAA5B,mBAA2Ca,GAA3C,kBAAsDU,EAAtD;IACA6C,QAAQ,CAACvD,GAAD,EAAMb,MAAN,CAAR;GAPkB;EASpBQ,kBAAkB,EAAE;;AA4PxBH,UAAU,CAACR,SAAX,GAAuB;EACrBmC,eAAe,EAAEtD,SAAS,CAACuB,IADN;EAErBQ,KAAK,EAAE/B,SAAS,CAACE,IAFI;EAGrBP,OAAO,EAAEK,SAAS,CAACE,IAHE;EAIrBsD,UAAU,EAAExD,SAAS,CAACE,IAJD;EAKrB8B,iBAAiB,EAAEhC,SAAS,CAACE,IALR;EAMrBqD,kBAAkB,EAAEvD,SAAS,CAACuB,IANT;EAOrBO,kBAAkB,EAAE9B,SAAS,CAACsB,MAPT;EAQrBW,IAAI,EAAEjC,SAAS,CAAC2F,OAAV,CACJ3F,SAAS,CAAC2F,OAAV,CACE3F,SAAS,CAAC4F,KAAV,CAAgB;IACdtE,MAAM,EAAEtB,SAAS,CAACqB,SAAV,CAAoB,CAACrB,SAAS,CAACC,MAAX,EAAmBD,SAAS,CAACsB,MAA7B,CAApB,CADM;IAEdb,UAAU,EAAET,SAAS,CAACE,IAFR;IAGdS,OAAO,EAAEX,SAAS,CAACC,MAHL;IAIdG,UAAU,EAAEJ,SAAS,CAACE;GAJxB,CADF,CADI,EASJsB,UAjBmB;EAkBrBP,YAAY,EAAEjB,SAAS,CAACyB,MAlBH;EAmBrB4C,OAAO,EAAErE,SAAS,CAACE;CAnBrB","names":["RowNumber","props","visible","React","className","rowNumber","Component","PropTypes","string","bool","Row","isSelected","children","array","Seat","_this","isReserved","selectSeat","tooltip","isEnabled","orientation","onClick","handleClick","ReactTooltip","tooltipProps","seatNumber","propTypes","oneOf","oneOfType","number","func","isRequired","object","Blank","SeatPicker","selectedSeats","size","maxReservableSeats","alpha","selectedByDefault","rows","forEach","row","index","String","fromCharCode","charCodeAt","toString","seat","seatAlreadySelected","includeSeat","addSeat","id","state","Object","keys","length","tooltipOverrides","setState","addTooltip","deleteSeat","addSeatCallback","removeSeatCallback","continuous","acceptDeselection","acceptSelection","auxRow","auxNumber","getAlreadySelectedSeats","rowLength","Math","max","apply","map","nextProps","nextState","loading","renderRows","seats","selectedSeat","_this2","key","renderSeats","isRowSelected","blanks","Array","fill","_this3","bind","blank","push","sum","slice","dif","addCb","console","log","removeCb","arrayOf","shape"],"sources":["/Users/tao/DEPLOY/booking-home/node_modules/react-seat-picker/src/SeatPicker/RowNumber.js","/Users/tao/DEPLOY/booking-home/node_modules/react-seat-picker/src/SeatPicker/Row.js","/Users/tao/DEPLOY/booking-home/node_modules/react-seat-picker/src/SeatPicker/Seat.js","/Users/tao/DEPLOY/booking-home/node_modules/react-seat-picker/src/SeatPicker/Blank.js","/Users/tao/DEPLOY/booking-home/node_modules/react-seat-picker/src/SeatPicker/SeatPicker.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport default class RowNumber extends Component {\n  static propTypes = {\n    rowNumber: PropTypes.string,\n    visible: PropTypes.bool,\n  };\n\n  render() {\n    return this.props.visible ? (\n      <div className=\"seat-picker__row__number\">{this.props.rowNumber}</div>\n    ) : null;\n  }\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport RowNumber from \"./RowNumber\";\n\nexport default class Row extends Component {\n  static propTypes = {\n    rowNumber: PropTypes.string,\n    visible: PropTypes.bool,\n    isSelected: PropTypes.bool,\n    children: PropTypes.array,\n  };\n\n  render() {\n    const { visible, rowNumber, isSelected } = this.props;\n    const className =\n      \"seat-picker__row\" +\n      (isSelected\n        ? \" seat-picker__row--selected\"\n        : \" seat-picker__row--enabled\");\n    return (\n      <div className={className}>\n        <RowNumber rowNumber={rowNumber} visible={visible} />\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport ReactTooltip from \"react-tooltip\";\n\nexport default class Seat extends Component {\n  static defaultProps = {\n    isSelected: false,\n  };\n\n  handleClick = () => {\n    !this.props.isReserved && this.props.selectSeat();\n  };\n\n  render() {\n    const {\n      isSelected,\n      tooltip,\n      isEnabled,\n      isReserved,\n      orientation,\n    } = this.props;\n    const className =\n      \"seat\" +\n      (isSelected ? \" seat--selected\" : \"\") +\n      (!isSelected && isEnabled && !isReserved ? \" seat--enabled\" : \"\") +\n      (isReserved ? \" seat--reserved\" : \"\") +\n      ` seat--${!orientation ? \"north\" : orientation}`;\n    return (\n      <div data-tip={tooltip} className={className} onClick={this.handleClick}>\n        {tooltip ? <ReactTooltip {...this.props.tooltipProps} /> : null}\n        <span className=\"seat__number\">{this.props.seatNumber}</span>\n      </div>\n    );\n  }\n}\n\nSeat.propTypes = {\n  isSelected: PropTypes.bool,\n  isReserved: PropTypes.bool,\n  tooltip: PropTypes.string,\n  isEnabled: PropTypes.bool,\n  orientation: PropTypes.oneOf([\"north\", \"south\", \"east\", \"west\"]),\n  seatNumber: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  selectSeat: PropTypes.func.isRequired,\n  tooltipProps: PropTypes.object,\n};\n","import React, { Component } from \"react\";\n\nexport default class Blank extends Component {\n  render() {\n    return <div className=\"blank\" />;\n  }\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Row from \"./Row\";\nimport Seat from \"./Seat\";\nimport Blank from \"./Blank\";\n\nexport class SeatPicker extends Component {\n  static defaultProps = {\n    addSeatCallback: ({ row, number, id }, addCb) => {\n      console.log(`Added seat ${number}, row ${row}, id ${id}`);\n      addCb(row, number, id);\n    },\n    removeSeatCallback: ({ row, number, id }, removeCb) => {\n      console.log(`Removed seat ${number}, row ${row}, id ${id}`);\n      removeCb(row, number);\n    },\n    maxReservableSeats: 0,\n  };\n\n  constructor(props) {\n    super(props);\n    const { rows } = props;\n    const { selectedSeats, size } = this.getAlreadySelectedSeats();\n    this.state = {\n      tooltipOverrides: {},\n      selectedSeats: selectedSeats,\n      size: size,\n      rowLength: Math.max.apply(\n        null,\n        rows.map(row => row.length)\n      ),\n    };\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.maxReservableSeats < state.size) {\n      let sum = 0;\n      const selectedSeats = {};\n      for (const array in state.selectedSeats) {\n        if (\n          sum + state.selectedSeats[array].length <\n          props.maxReservableSeats\n        ) {\n          selectedSeats[array] = state.selectedSeats[array].slice(0);\n        } else {\n          const dif = props.maxReservableSeats - sum;\n          selectedSeats[array] = state.selectedSeats[array].slice(0, dif);\n          return {\n            selectedSeats: selectedSeats,\n            size: props.maxReservableSeats,\n          };\n        }\n        sum = sum + state.selectedSeats[array].length;\n      }\n    }\n    return null;\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return (\n      nextState.selectedSeats !== this.state.selectedSeats ||\n      this.props.loading !== nextProps.loading\n    );\n  }\n\n  getAlreadySelectedSeats = () => {\n    let selectedSeats = {};\n    let size = 0;\n    const { maxReservableSeats, alpha, selectedByDefault } = this.props;\n    if (selectedByDefault) {\n      this.props.rows.forEach((row, index) => {\n        const rowNumber = alpha\n          ? String.fromCharCode(\"A\".charCodeAt(0) + index)\n          : (index + 1).toString();\n        row.forEach((seat, index) => {\n          if (seat && seat.isSelected) {\n            const seatAlreadySelected = this.includeSeat(\n              selectedSeats,\n              rowNumber,\n              seat.number\n            );\n            if (size < maxReservableSeats && !seatAlreadySelected) {\n              selectedSeats = this.addSeat(\n                selectedSeats,\n                rowNumber,\n                seat.number,\n                seat.id\n              );\n              size = size + 1;\n            }\n          }\n        });\n      });\n    }\n    return { selectedSeats, size };\n  };\n\n  includeSeat = (selectedSeats, row, number) => {\n    if (selectedSeats[row]) {\n      return !!selectedSeats[row][number];\n    }\n    return false;\n  };\n\n  addSeat = (selectedSeats, row, number, id) => {\n    if (selectedSeats[row]) {\n      if (!selectedSeats[row][number]) {\n        selectedSeats[row][number] = id;\n      }\n    } else {\n      selectedSeats[row] = {};\n      selectedSeats[row][number] = id;\n    }\n    return { ...selectedSeats };\n  };\n\n  deleteSeat = (row, number) => {\n    const { selectedSeats } = this.state;\n    if (selectedSeats[row]) {\n      delete selectedSeats[row][number];\n      if (!Object.keys(selectedSeats[row]).length > 0) {\n        delete selectedSeats[row];\n      }\n    }\n    return { ...selectedSeats };\n  };\n\n  addTooltip = (tooltipOverrides, row, number, tooltip) => {\n    if (!tooltipOverrides[row]) {\n      tooltipOverrides[row] = {};\n    }\n    tooltipOverrides[row][number] = tooltip;\n    return { ...tooltipOverrides };\n  };\n\n  acceptSelection = (row, number, id, tooltip) => {\n    const { selectedSeats, tooltipOverrides, size } = this.state;\n    const { maxReservableSeats } = this.props;\n    if (size < maxReservableSeats) {\n      this.setState({\n        tooltipOverrides: this.addTooltip(\n          tooltipOverrides,\n          row,\n          number,\n          tooltip\n        ),\n        selectedSeats: this.addSeat(selectedSeats, row, number, id),\n        size: size + 1,\n      });\n    }\n  };\n\n  acceptDeselection = (row, number, tooltip) => {\n    const { size, tooltipOverrides } = this.state;\n    this.setState({\n      tooltipOverrides: this.addTooltip(tooltipOverrides, row, number, tooltip),\n      selectedSeats: this.deleteSeat(row, number),\n      size: size - 1,\n    });\n  };\n\n  selectSeat = (row, number, id) => {\n    const { selectedSeats } = this.state;\n    const size = this.state.size;\n    const {\n      maxReservableSeats,\n      addSeatCallback,\n      removeSeatCallback,\n      continuous,\n    } = this.props;\n    const seatAlreadySelected = this.includeSeat(selectedSeats, row, number);\n\n    if (seatAlreadySelected) {\n      removeSeatCallback({ row, number, id }, this.acceptDeselection);\n    } else {\n      if (size < maxReservableSeats) {\n        addSeatCallback({ row, number, id }, this.acceptSelection);\n      } else if (continuous) {\n        const auxRow = Object.keys(selectedSeats)[0];\n        const auxNumber = Object.keys(selectedSeats[auxRow])[0];\n        addSeatCallback(\n          { row, number, id },\n          this.acceptSelection,\n          {\n            row: auxRow,\n            number: auxNumber,\n            id: selectedSeats[auxRow][auxNumber],\n          },\n          this.acceptDeselection\n        );\n      }\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"seat-content\">\n        <div className={this.props.loading ? \"loader\" : null} />\n        <div className=\"seat-picker\">{this.renderRows()}</div>\n      </div>\n    );\n  }\n\n  renderRows() {\n    const { selectedSeats: seats } = this.state;\n    const { alpha, visible } = this.props;\n    return this.props.rows.map((row, index) => {\n      const rowNumber = alpha\n        ? String.fromCharCode(\"A\".charCodeAt(0) + index)\n        : (index + 1).toString();\n      const isSelected = !!seats[rowNumber];\n      const props = {\n        visible,\n        rowNumber,\n        isSelected,\n        selectedSeat: null,\n        seats: row,\n        // key: `Row${rowNumber}`,\n        selectSeat: this.selectSeat,\n      };\n\n      return (\n        <Row key={index} {...props}>\n          {this.renderSeats(row, rowNumber, isSelected)}{\" \"}\n        </Row>\n      );\n    });\n  }\n\n  renderSeats(seats, rowNumber, isRowSelected) {\n    const { selectedSeats, size, rowLength, tooltipOverrides } = this.state;\n    const { maxReservableSeats, continuous } = this.props;\n    const blanks = new Array(\n      rowLength - seats.length > 0 ? rowLength - seats.length : 0\n    ).fill(0);\n    const row = seats.map((seat, index) => {\n      if (seat === null) return <Blank key={index} />;\n      const isSelected =\n        isRowSelected &&\n        this.includeSeat(selectedSeats, rowNumber, seat.number);\n      let tooltip = seat.tooltip;\n      if (\n        tooltipOverrides[rowNumber] &&\n        tooltipOverrides[rowNumber][seat.number] != null\n      ) {\n        tooltip = tooltipOverrides[rowNumber][seat.number];\n      }\n      const props = {\n        isSelected,\n        orientation: seat.orientation,\n        isReserved: seat.isReserved,\n        tooltip,\n        isEnabled: size < maxReservableSeats || continuous,\n        selectSeat: this.selectSeat.bind(this, rowNumber, seat.number, seat.id),\n        seatNumber: seat.number,\n        tooltipProps: this.props.tooltipProps,\n      };\n      return <Seat key={index} {...props} />;\n    });\n    if (blanks.length > 0) {\n      blanks.forEach((blank, index) => {\n        row.push(<Blank key={row.length + index + 1} />);\n      });\n    }\n    return row;\n  }\n}\n\nSeatPicker.propTypes = {\n  addSeatCallback: PropTypes.func,\n  alpha: PropTypes.bool,\n  visible: PropTypes.bool,\n  continuous: PropTypes.bool,\n  selectedByDefault: PropTypes.bool,\n  removeSeatCallback: PropTypes.func,\n  maxReservableSeats: PropTypes.number,\n  rows: PropTypes.arrayOf(\n    PropTypes.arrayOf(\n      PropTypes.shape({\n        number: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n        isReserved: PropTypes.bool,\n        tooltip: PropTypes.string,\n        isSelected: PropTypes.bool,\n      })\n    )\n  ).isRequired,\n  tooltipProps: PropTypes.object,\n  loading: PropTypes.bool,\n};\n"]},"metadata":{},"sourceType":"module"}