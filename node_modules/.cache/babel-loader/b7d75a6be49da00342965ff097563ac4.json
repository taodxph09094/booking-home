{"ast":null,"code":"var _jsxFileName = \"/Users/tao/DEPLOY/booking-home/src/components/Banner/SearchTickets/popper.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport Popper from \"@material-ui/core/Popper\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  popper: {\n    position: \"relative\",\n    zIndex: 1,\n    boxShadow: \"0px 5px 5px -3px rgb(0 0 0 / 20%), 0px 8px 10px 1px rgb(0 0 0 / 14%), 0px 3px 14px 2px rgb(0 0 0 / 12%)\"\n  },\n  image: {\n    height: \"auto\",\n    borderRadius: 4\n  },\n  info: {\n    backgroundColor: \"rgb(74 74 74 / 46%)\",\n    borderRadius: 4,\n    padding: 5,\n    color: \"#fff !important\",\n    position: \"absolute\",\n    left: \"50%\",\n    bottom: 10,\n    transform: \"translateX(-50%)\",\n    width: \"fit-content\"\n  },\n  btnMovieDetail: {\n    position: \"absolute\",\n    left: \"50%\",\n    bottom: 51,\n    transform: \"translateX(-50%)\",\n    padding: \"8px 23px\",\n    background: \"linear-gradient(to left, #fb4226, #ce3017 100%)\",\n    \"&:hover\": {\n      background: \"#d01414\"\n    },\n    transition: \"color 0.2\",\n    borderRadius: 4,\n    color: \"#fff\",\n    border: \"none\"\n  },\n  withOutImage: {\n    borderRadius: 4,\n    width: 200,\n    height: 200 * 1.5,\n    animationName: `$myEffect`,\n    animationDuration: \"3s\",\n    animationTimingFunction: `${theme.transitions.easing.easeInOut}`,\n    animationIterationCount: \"infinite\",\n    background: \"linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab)\",\n    backgroundSize: \"400% 400%\"\n  },\n  \"@keyframes myEffect\": {\n    \"0%\": {\n      backgroundPosition: \"0% 50%\"\n    },\n    \"50%\": {\n      backgroundPosition: \"100% 50%\"\n    },\n    \"100%\": {\n      backgroundPosition: \"0% 50%\"\n    }\n  }\n}));\nexport default function CustomPopper(props) {\n  _s();\n  const {\n    phim,\n    setNewPhim,\n    currentPhimPopup,\n    rootElementPopup\n  } = props;\n  const [anchorEl, setAnchorEl] = useState(null);\n  const classes = useStyles();\n  const [showPopper, setShowPopper] = useState(false);\n  const [widthImage, setwidthImage] = useState(200);\n  const temporaryAnchorEl = React.useRef(null);\n  const history = useHistory();\n  const [imageNotFound, setImageNotFound] = useState(false);\n  useEffect(() => {\n    // nếu hình có dạng chữ nhật thì cho rộng ra\n    let mounted = true;\n    const img = new Image();\n    img.src = phim.images;\n    img.onload = function () {\n      // sau khi phân tích hình ảnh xong\n      if (this.width > this.height && mounted) {\n        setwidthImage(350);\n      } else if (this.width === this.height && mounted) {\n        setwidthImage(250);\n      }\n    };\n    setAnchorEl(temporaryAnchorEl.current);\n    return () => {\n      mounted = false;\n    };\n  }, []);\n  useEffect(() => {\n    // khi hover vào phim khác thì currentPhimPopup thay đổi > ẩn đi phim hiện tại\n    if (phim._id !== currentPhimPopup && currentPhimPopup) {\n      setShowPopper(false);\n    }\n  }, [currentPhimPopup, phim._id]);\n  const handleMouseEnter = element => {\n    setNewPhim(phim._id); // đẩy mã phim đang popup lên component cha, nếu hover vào phim mới thì mới ẩn, còn hover ra ngoài thì không ẩn\n    setShowPopper(true);\n    setAnchorEl(rootElementPopup);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    onMouseEnter: handleMouseEnter,\n    ref: temporaryAnchorEl,\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: phim.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), showPopper && /*#__PURE__*/_jsxDEV(Popper, {\n      open: showPopper,\n      anchorEl: anchorEl,\n      className: classes.popper,\n      placement: \"right\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"relative\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: phim.images,\n            alt: \"poster\",\n            className: classes.image,\n            style: {\n              width: widthImage\n            },\n            onError: e => {\n              e.target.onerror = null;\n              e.target.style.display = \"none\";\n              setImageNotFound(true);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 15\n          }, this), imageNotFound && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.withOutImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.info,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: `120 phút - Điểm Tix ${phim.ratings}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: classes.btnMovieDetail,\n            onClick: () => history.push(`/film/${phim._id}`),\n            children: \"Chi ti\\xEAt phim\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n}\n_s(CustomPopper, \"4jL8uDewMJjYCLrF87pWC5GLjP0=\", false, function () {\n  return [useStyles, useHistory];\n});\n_c = CustomPopper;\nvar _c;\n$RefreshReg$(_c, \"CustomPopper\");","map":{"version":3,"names":["React","useEffect","useState","Popper","makeStyles","useHistory","useStyles","theme","popper","position","zIndex","boxShadow","image","height","borderRadius","info","backgroundColor","padding","color","left","bottom","transform","width","btnMovieDetail","background","transition","border","withOutImage","animationName","animationDuration","animationTimingFunction","transitions","easing","easeInOut","animationIterationCount","backgroundSize","backgroundPosition","CustomPopper","props","phim","setNewPhim","currentPhimPopup","rootElementPopup","anchorEl","setAnchorEl","classes","showPopper","setShowPopper","widthImage","setwidthImage","temporaryAnchorEl","useRef","history","imageNotFound","setImageNotFound","mounted","img","Image","src","images","onload","current","_id","handleMouseEnter","element","root","name","e","target","onerror","style","display","ratings","push"],"sources":["/Users/tao/DEPLOY/booking-home/src/components/Banner/SearchTickets/popper.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport Popper from \"@material-ui/core/Popper\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  popper: {\n    position: \"relative\",\n    zIndex: 1,\n    boxShadow:\n      \"0px 5px 5px -3px rgb(0 0 0 / 20%), 0px 8px 10px 1px rgb(0 0 0 / 14%), 0px 3px 14px 2px rgb(0 0 0 / 12%)\",\n  },\n  image: {\n    height: \"auto\",\n    borderRadius: 4,\n  },\n  info: {\n    backgroundColor: \"rgb(74 74 74 / 46%)\",\n    borderRadius: 4,\n    padding: 5,\n    color: \"#fff !important\",\n    position: \"absolute\",\n    left: \"50%\",\n    bottom: 10,\n    transform: \"translateX(-50%)\",\n    width: \"fit-content\",\n  },\n  btnMovieDetail: {\n    position: \"absolute\",\n    left: \"50%\",\n    bottom: 51,\n    transform: \"translateX(-50%)\",\n    padding: \"8px 23px\",\n    background: \"linear-gradient(to left, #fb4226, #ce3017 100%)\",\n    \"&:hover\": {\n      background: \"#d01414\",\n    },\n    transition: \"color 0.2\",\n    borderRadius: 4,\n    color: \"#fff\",\n    border: \"none\",\n  },\n  withOutImage: {\n    borderRadius: 4,\n    width: 200,\n    height: 200 * 1.5,\n    animationName: `$myEffect`,\n    animationDuration: \"3s\",\n    animationTimingFunction: `${theme.transitions.easing.easeInOut}`,\n    animationIterationCount: \"infinite\",\n    background: \"linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab)\",\n    backgroundSize: \"400% 400%\",\n  },\n  \"@keyframes myEffect\": {\n    \"0%\": { backgroundPosition: \"0% 50%\" },\n    \"50%\": { backgroundPosition: \"100% 50%\" },\n    \"100%\": { backgroundPosition: \"0% 50%\" },\n  },\n}));\n\nexport default function CustomPopper(props) {\n  const { phim, setNewPhim, currentPhimPopup, rootElementPopup } = props;\n  const [anchorEl, setAnchorEl] = useState(null);\n  const classes = useStyles();\n  const [showPopper, setShowPopper] = useState(false);\n  const [widthImage, setwidthImage] = useState(200);\n  const temporaryAnchorEl = React.useRef(null);\n  const history = useHistory();\n  const [imageNotFound, setImageNotFound] = useState(false);\n  useEffect(() => {\n    // nếu hình có dạng chữ nhật thì cho rộng ra\n    let mounted = true;\n    const img = new Image();\n    img.src = phim.images;\n    img.onload = function () {\n      // sau khi phân tích hình ảnh xong\n      if (this.width > this.height && mounted) {\n        setwidthImage(350);\n      } else if (this.width === this.height && mounted) {\n        setwidthImage(250);\n      }\n    };\n    setAnchorEl(temporaryAnchorEl.current);\n    return () => {\n      mounted = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    // khi hover vào phim khác thì currentPhimPopup thay đổi > ẩn đi phim hiện tại\n    if (phim._id !== currentPhimPopup && currentPhimPopup) {\n      setShowPopper(false);\n    }\n  }, [currentPhimPopup, phim._id]);\n  const handleMouseEnter = (element) => {\n    setNewPhim(phim._id); // đẩy mã phim đang popup lên component cha, nếu hover vào phim mới thì mới ẩn, còn hover ra ngoài thì không ẩn\n    setShowPopper(true);\n    setAnchorEl(rootElementPopup);\n  };\n\n  return (\n    <div\n      className={classes.root}\n      onMouseEnter={handleMouseEnter}\n      ref={temporaryAnchorEl}\n    >\n      <p>{phim.name}</p>\n      {showPopper && (\n        <Popper\n          open={showPopper}\n          anchorEl={anchorEl}\n          className={classes.popper}\n          placement=\"right\"\n        >\n          <div>\n            <div style={{ position: \"relative\" }}>\n              <img\n                src={phim.images}\n                alt=\"poster\"\n                className={classes.image}\n                style={{ width: widthImage }}\n                onError={(e) => {\n                  e.target.onerror = null;\n                  e.target.style.display = \"none\";\n                  setImageNotFound(true);\n                }}\n              />\n              {imageNotFound && <div className={classes.withOutImage}></div>}\n              <div className={classes.info}>\n                <p>{`120 phút - Điểm Tix ${phim.ratings}`}</p>\n              </div>\n              <button\n                className={classes.btnMovieDetail}\n                onClick={() => history.push(`/film/${phim._id}`)}\n              >\n                Chi tiêt phim\n              </button>\n            </div>\n          </div>\n        </Popper>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}